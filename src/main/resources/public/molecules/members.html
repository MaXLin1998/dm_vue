<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="jp">
<head>
  <meta charset="UTF-8"/>
  <!-- Bootstrap -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
<!--  <script src="//unpkg.com/vue@3/dist/vue.global.js"></script>-->
  <script src="/js/vue.global.js"></script>
  <script src="/js/axios.min.js" defer></script>
  <script src="//cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" defer></script>
  <script src="/js/members.js" defer></script>
  <title>TTT</title>
</head>
<body>
<header>
    <div th:replace="fragments/header::header"></div>
</header>
<main>
<div id="appMembers" class="container">
  <!-- AppName -->
  <div class="row p-4">
    <h1>{{ appName }}</h1>
  </div>
  <!-- New -->
<!--  <div class="row p-2">-->
<!--    <button v-on:click="showEditModal()" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#editModal">-->
<!--      New-->
<!--    </button>-->
<!--  </div>-->
  <!-- Members -->
  <div class="row p-2">
    <table class="table table-striped table-light">
      <thead>
      <tr>
        <th scope="col">#No.</th>
        <th scope="col">ユーザーID</th>
        <th scope="col">ユーザー姓</th>
        <th scope="col">ユーザー名</th>
        <th scope="col">ロール</th>
        <th scope="col"></th>
      </tr>
      </thead>
      <tbody>
      <tr v-for="(user, index) in users">
        <td>{{ index }}</td>
        <td>
          <a href="javascript:void(0);" v-on:click="showDetail(user.user_id)">
            {{ user.user_id }}
          </a>
        </td>
        <td>{{ user.name_last }}</td>
        <td>{{ user.name_first }}</td>
        <td>{{ user.user_role }}</td>
        <td class="text-center">
          <button v-on:click="showDeleteModal(index)" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal">
            Delete
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <!-- DeleteModal -->
  <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="deleteModalLabel">Delete:{{ user_id }}</h5>
          <button class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          [ {{ name_last }} ]を削除しますか?
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button v-on:click="deleteAddress(user_id)" class="btn btn-danger" data-bs-dismiss="modal">Delete</button>
        </div>
      </div>
    </div>
  </div>
</div>
</main>
<footer>
    <div th:replace="fragments/footer::footer">
    </div>
</footer>
<!-- JavaScript -->
</body>
</html>